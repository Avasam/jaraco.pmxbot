(function(){if(!window.pmxbot){var h=function(a){a.preventDefault();a.stopImmediatePropagation()},k=function(a){31<a.which&&41>a.which&&a.target===document.body&&(a.preventDefault(),a.stopImmediatePropagation())},e=function(){document.body.style.overflow="initial";b.parentNode.removeChild(b);window.pmxbot=!1;window.removeEventListener("DOMMouseScroll",h);window.removeEventListener("keydown",k)};window.pmxbot=!0;window.addEventListener("DOMMouseScroll",h);window.addEventListener("keydown",k);var g=
document.createElement("div"),b=document.createElement("div");b.setAttribute("style","position:absolute;width:100%;background-color:rgba(0,0,0,.5);z-index:2147483647;text-align:center");b.id="pmxover";b.style.height=window.innerHeight+"px";b.style.top=window.scrollY+"px";b.style.left=window.scrollX+"px";g.setAttribute("style","text-align:center;font-family:Helvetica,Arial;background-color:#eee;padding: 1em;width:25em;position:relative;top:50%;transform:translateY(-50%);margin:auto;box-shadow:0 0 30px #555;border-radius:0.25em;");
b.appendChild(g);document.body.appendChild(b);document.body.style.overflow="hidden";var c=document.createElement("form"),f=document.createElement("input"),d=document.createElement("input");f.setAttribute("type","submit");d.setAttribute("type","button");c.innerHTML="<span style='font-size:2em;float:left;padding-left:.2em;color:#666;'>pmxbot</span><input id='pmxchn' placeholder='Channel' style='text-align:center;font-family:Helvetica,Arial;padding:1em;background:#fff;border:1px #ccc solid;margin:.5em;width:90%;border-radius:0;'><br><input id='pmxmsg' placeholder='Message' style='text-align:center;font-family:Helvetica,Arial;padding:1em;background:#fff;border:1px #ccc solid;margin:.5em;width:90%;border-radius:0;' value='"+
document.URL+"'>";f.setAttribute("style","all:initial;margin:.5em;width:42.5%;cursor:pointer;padding:.5em 0;text-align:center;font-family:Helvetica,Arial;background:#5dc251;border:0;box-shadow:0 3px 0 #409936;color:#dbf0df");d.setAttribute("style","all:initial;margin:.5em;width:42.5%;cursor:pointer;padding:.5em 0;text-align:center;font-family:Helvetica,Arial;background:#f66;border:0;box-shadow:0 3px 0 #e01414;color:#fcc");f.setAttribute("value","Submit");d.setAttribute("value","Cancel");c.style.marginBottom=
"0";c.appendChild(f);c.appendChild(d);g.appendChild(c);document.getElementById("pmxmsg").focus();document.getElementById("pmxchn").value=localStorage.getItem("strchn")||"";document.getElementById("pmxchn").addEventListener("keyup",function(){localStorage.setItem("strchn",this.value)});c.addEventListener("submit",function(a){a.stopImmediatePropagation();a.preventDefault();var b=new XMLHttpRequest;a=document.getElementById("pmxchn").value;var c=document.getElementById("pmxmsg").value;b.open("POST",
"http://ircbot.example.com/"+a,!0);b.setRequestHeader("Content-type","text/plain");b.onreadystatechange=function(){4===b.readyState&&(200===b.status?(alert("Success!"),e()):alert("Err: Received Code: "+b.status))};b.send(c)});b.addEventListener("click",function(a){a.stopImmediatePropagation();"pmxover"===a.target.id&&e()});b.addEventListener("keyup",function(a){27===a.which&&e()});d.addEventListener("click",function(a){a.stopImmediatePropagation();e()})}})();
